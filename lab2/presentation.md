# Цель работы

Получение практических навыков работы в консоли с атрибутами файлов, закрепление теоретических основ дискреционного разграничения доступа в современных системах с открытым кодом на базе ОС Linux.

# Задание

1. Выполнить список команд, анализируя их вывод
2. Заполнить таблицу «Установленные права и разрешённые действия»
3. На основе анализа предыдущей таблицы заполнить следующую "Минимальные права для совершения операций"

# Выполнение лабораторной работы

1. В установленной при выполнении предыдущей лабораторной работы
операционной системе создадим учётную запись пользователя guest (используя учётную запись администратора):
useradd guest. Зададим пароль для пользователя guest (используя учётную запись администратора):
passwd guest. Войдем в систему от имени пользователя guest.

![Создание нового пользователя](https://github.com/dmitryabushek/study_2023_2024__infosec/blob/main/lab2/src/lab2_1.png)

2. Определим директорию, в которой мы находимся, командой pwd. Сравним её с приглашением командной строки. Определим, является ли она домашней директорией? (нет)
Тогда зайдем в домашнюю директорию. Уточним имя пользователя командой whoami. Уточним имя пользователя, его группу, а также группы, куда входит пользователь, командой id.
Сравним вывод id с выводом команды groups. Сравним полученную информацию об имени пользователя с данными,
выводимыми в приглашении командной строки. Просмотрим файл /etc/passwd командой
cat /etc/passwd.

![Просмотр параметров пользователя](https://github.com/dmitryabushek/study_2023_2024__infosec/blob/main/lab2/src/lab2_3.png)

3. Найдем в файле /etc/passwd свою учётную запись с помощью фильтра для вывода только строк, содержащих определённые
буквенные сочетания: cat /etc/passwd | grep guest. Определим uid пользователя.
Определим gid пользователя. Сравним найденные значения с полученными в предыдущих пунктах.
Определим существующие в системе директории командой ls -l /home/
Удалось ли вам получить список поддиректорий директории /home?(да) Какие права установлены на директориях?(чтение, запись, исполнение)
Проверим какие расширенные атрибуты установлены на поддиректориях, находящихся в директории /home, командой:
lsattr /home
Удалось ли вам увидеть расширенные атрибуты директории? (нет)
Удалось ли вам увидеть расширенные атрибуты директорий других
пользователей?(нет) (рис. @fig:003).

![Просмотр учетной записи в файле /etc/passwd и просмотр директории](https://github.com/dmitryabushek/study_2023_2024__infosec/blob/main/lab2/src/lab2_5.png)

4. Создадим в домашней директории поддиректорию dir1 командой mkdir dir1 (рис. @fig:004).

![Создание поддиректории](https://github.com/dmitryabushek/study_2023_2024__infosec/blob/main/lab2/src/lab2_7.png)

5. Снимите с директории dir1 все атрибуты командой chmod 000 dir1
и проверьте с её помощью правильность выполнения команды ls -l
Попытаемся создать в директории dir1 файл file1 командой echo "test" > /home/guest/dir1/file1
Объясните, почему вы получили отказ в выполнении операции по созданию файла? (нет доступа)
Оцените, как сообщение об ошибке отразилось на создании файла? (не создался) Проверьте командой ls -l /home/guest/dir1
действительно ли файл file1 не находится внутри директории dir1. (не находится) (рис. @fig:005).

![Работа с директорией dir1](https://github.com/dmitryabushek/study_2023_2024__infosec/blob/main/lab2/src/lab2_9.png)

6. Начинаем заполнять таблицу 1 «Установленные права и разрешённые действия». У меня эти команды, почему-то, не прописались корректно.

7. Заполнение таблицы «Установленные права и разрешённые действия».

| | | | | | | | | | |
|-|-|-|-|-|-|-|-|-|-|
|Права директории|Права  файла|Создание  файла|Удаление  файла|Запись  в файл|Чтение  файла|Смена  директории|Просмотр файлов в  директории|Переимено- вание файла|Смена  атрибутов  файла|
|d(000)|(000)| -| -| -| -| -| -| -| -|
|d(000)|(100)| -| -| -| -| -| -| -| -|
|d(000)|(200)| -| -| -| -| -| -| -| -|
|d(000)|(300)| -| -| -| -| -| -| -| -|
|d(000)|(400)| -| -| -| -| -| -| -| -|
|d(000)|(500)| -| -| -| -| -| -| -| -|
|d(000)|(600)| -| -| -| -| -| -| -| -|
|d(000)|(700)| -| -| -| -| -| -| -| -|
|d(100)|(000)| -| -| -| -|+| -| -|+|
|d(100)|(100)| -| -| -| -|+| -| -|+|
|d(100)|(200)| -| -|+| -|+| -| -|+|
|d(100)|(300)| -| -|+| -|+| -| -|+|
|d(100)|(400)| -| -|-|+|+| -| -|+|
|d(100)|(500)| -| -|-|+|+| -| -|+|
|d(100)|(600)| -| -|+|+|+| -| -|+|
|d(100)|(700)| -| -|+|+|+| -| -|+|
|d(200)|(000)| -| -|-|-|-| -| -|-|
|d(200)|(100)| -| -|-|-|-| -| -|-|
|d(200)|(200)| -| -|-|-|-| -| -|-|
|d(200)|(300)| -| -|-|-|-| -| -|-|
|d(200)|(400)| -| -|-|-|-| -| -|-|
|d(200)|(500)| -| -|-|-|-| -| -|-|
|d(200)|(600)| -| -|-|-|-| -| -|-|
|d(200)|(700)| -| -|-|-|-| -| -|-|
|d(300)|(000)|+|+|-|-|+| -|+|+|
|d(300)|(100)|+|+|-|-|+| -|+|+|
|d(300)|(200)|+|+|+|-|+| -|+|+|
|d(300)|(300)|+|+|+|-|+| -|+|+|
|d(300)|(400)|+|+|-|+|+| -|+|+|
|d(300)|(500)|+|+|-|+|+| -|+|+|
|d(300)|(600)|+|+|+|+|+| -|+|+|
|d(300)|(700)|+|+|+|+|+| -|+|+|
|d(400)|(000)|-|-|-|-|-|+|-|-|
|d(400)|(100)|-|-|-|-|-|+|-|-|
|d(400)|(200)|-|-|-|-|-|+|-|-|
|d(400)|(300)|-|-|-|-|-|+|-|-|
|d(400)|(400)|-|-|-|-|-|+|-|-|
|d(400)|(500)|-|-|-|-|-|+|-|-|
|d(400)|(600)|-|-|-|-|-|+|-|-|
|d(400)|(700)|-|-|-|-|-|+|-|-|
|d(500)|(000)|-|-|-|-|+|+|-|+|
|d(500)|(100)|-|-|-|-|+|+|-|+|
|d(500)|(200)|-|-|+|-|+|+|-|+|
|d(500)|(300)|-|-|+|-|+|+|-|+|
|d(500)|(400)|-|-|-|+|+|+|-|+|
|d(500)|(500)|-|-|-|+|+|+|-|+|
|d(500)|(600)|-|-|+|+|+|+|-|+|
|d(500)|(700)|-|-|+|+|+|+|-|+|
|d(600)|(000)|-|-|-|-|-|+|-|-|
|d(600)|(100)|-|-|-|-|-|+|-|-|
|d(600)|(200)|-|-|-|-|-|+|-|-|
|d(600)|(300)|-|-|-|-|-|+|-|-|
|d(600)|(400)|-|-|-|-|-|+|-|-|
|d(600)|(500)|-|-|-|-|-|+|-|-|
|d(600)|(600)|-|-|-|-|-|+|-|-|
|d(600)|(700)|-|-|-|-|-|+|-|-|
|d(700)|(000)|+|+|-|-|+|+|+|+|
|d(700)|(100)|+|+|-|-|+|+|+|+|
|d(700)|(200)|+|+|+|-|+|+|+|+|
|d(700)|(300)|+|+|+|-|+|+|+|+|
|d(700)|(400)|+|+|-|+|+|+|+|+|
|d(700)|(500)|+|+|-|+|+|+|+|+|
|d(700)|(600)|+|+|+|+|+|+|+|+|
|d(700)|(700)|+|+|+|+|+|+|+|+|


Таблица 1 «Установленные права и разрешённые действия»

9. Заполнение таблицы "Минимальные права для совершения операций"

| | | | | |
|-|-|-|-|-|
|Операция| |Минимальные  права на  директорию| |Минимальные  права на файл|
|Создание файла| |d(300)| |(000)|
|Удаление файла| |d(300)| |(000)|
|Чтение файла| |d(100)| |(400)|
|Запись в файл| |d(100)| |(200)|
|Переименование файла| |d(300)| |(000)|
|Создание поддиректории| |d(300)| |(000)|
|Удаление поддиректории| |d(300)| |(000)|

Таблица 2 "Минимальные права для совершения операций"
# Выводы

Были получены практические навыки работы в консоли с атрибутами файлов, закреплены теоретические основы дискреционного разграничения доступа в современных системах с открытым кодом на базе ОС Linux.
